<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Page 2</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous" defer></script>
    <script src="script.js" defer></script>
  </head>
  <body>
    <h1>Page 2</h1>
    <div class="container">
      <div class="row" id="donneesUtilisateurs"></div>
    
      <script>
        function afficher() {
          // Obtenir les données JSON du serveur
          $.getJSON('https://641b4a3b1f5d999a446043ab.mockapi.io/JasonD')
            .done(function (users) {
              // Insérer les données des utilisateurs dans le DOM
              let colonne = '';
              let compteur = 0;
              for (user of users) {
                colonne += `
                  <div class="col-md-3">
                    <p id='user${user.id}'>${user.id}, ${user.username}, ${user.email}</p>
                  </div>
                `;
                compteur++;
                if (compteur >= 20) {
                  // Ajouter la colonne au DOM
                  $('#donneesUtilisateurs').append(`<div class="col-md-12">${colonne}</div>`);
                  // Réinitialiser les variables
                  colonne = '';
                  compteur = 0;
                }
              }
              // Ajouter la dernière colonne s'il en reste moins de 20
              if (colonne !== '') {
                $('#donneesUtilisateurs').append(`<div class="col-md-12">${colonne}</div>`);
              }
            });
        }
      
        afficher();
      </script>

      <a href="../index.html" id="#boutonAller1" class="btn btn-primary btn-lg">Page 1</a>
    </div>
  </body>
</html>
